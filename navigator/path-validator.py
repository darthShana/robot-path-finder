from matplotlib import pyplot as plt
import numpy as np
from geometry.Point import Point
from geometry.Vector import Vector

waypoints = np.array([
    [0.676189,1.493873],
    [0.932008,1.659184]
])

x, y = waypoints.T
fig = plt.figure(figsize=(8, 8))
plt.gca().set_aspect('equal', adjustable='box')
plt.scatter(x, y, marker='+')
plt.pause(0.05)

real_set = np.array([
    [0.609958,1.45228, 0.06388099999999997, 0.07309451098274566 ,0.06623100000000004, 0.04159299999999999],
    [0.619945,1.477923, 0.07260999999999995, 0.08773818805009292 ,0.312063, 0.1812609999999999],
    [0.623592,1.489371, 0.07689500000000005, 0.09618974015647463 ,0.3084159999999999, 0.169813],
    [0.634032,1.491369, 0.04947200000000007, 0.0917693494939058 ,0.2979759999999999, 0.16781500000000005],
    [0.633559,1.492176, 0.03393299999999999, 0.06407346031333727 ,0.29844899999999996, 0.16700800000000005],
    [0.636221,1.49476, 0.026263000000000036, 0.038222968023102766 ,0.2957869999999999, 0.1644239999999999],
    [0.629233,1.497685, 0.009288000000000074, 0.019761999999999835 ,0.3027749999999999, 0.16149900000000006],
    [0.631951,1.494341, 0.012006000000000072, 0.01641799999999982 ,0.3000569999999999, 0.16484300000000007],
    [0.631403,1.492344, 0.01145800000000008, 0.014420999999999795 ,0.3006049999999999, 0.1668400000000001],
    [0.642962,1.491142, 0.023017000000000065, 0.01321899999999987 ,0.2890459999999999, 0.16804200000000002],
    [0.63552,1.494502, 0.015575000000000006, 0.0165789999999999 ,0.296488, 0.164682],
    [0.636744,1.491333, 0.01679900000000001, 0.013409999999999922 ,0.29526399999999997, 0.16785099999999997],
    [0.629649,1.498009, 0.009704000000000046, 0.020085999999999826 ,0.30235899999999993, 0.16117500000000007],
    [0.632162,1.494105, 0.012217000000000033, 0.01618199999999992 ,0.29984599999999995, 0.16507899999999998],
    [0.636764,1.499892, 0.01681900000000003, 0.021968999999999905 ,0.29524399999999995, 0.159292],
    [0.637607,1.500036, 0.017662000000000067, 0.022112999999999827 ,0.2944009999999999, 0.15914800000000007],
    [0.639797,1.500041, 0.01985199999999998, 0.02211799999999986 ,0.292211, 0.15914300000000003],
    [0.632113,1.512802, 0.012168000000000068, 0.03487899999999988 ,0.2998949999999999, 0.146382],
    [0.620626,1.506761, 0.0006810000000000427, 0.02883799999999992 ,0.31138199999999994, 0.15242299999999998],
    [0.63388,1.5072, 0.01393500000000003, 0.029276999999999997 ,0.29812799999999995, 0.1519839999999999],
    [0.644693,1.512322, 0.024747999999999992, 0.034398999999999846 ,0.287315, 0.14686200000000005],
    [0.647838,1.525896, 0.027893000000000057, 0.04797299999999982 ,0.2841699999999999, 0.13328800000000007],
    [0.652545,1.530454, 0.004707000000000017, 0.004558000000000062 ,0.2794629999999999, 0.12873],
    [0.650137,1.542584, 0.029510999999999954, 0.02775704229948639 ,0.281871, 0.11660000000000004],
    [0.659914,1.550437, 0.026034, 0.04521670789376531 ,0.27209399999999995, 0.10874699999999993],
    [0.670131,1.568376, 0.02543800000000007, 0.0506926311958118 ,0.2618769999999999, 0.090808],
    [0.691622,1.600953, 0.043783999999999934, 0.07213833906752165 ,0.240386, 0.05823099999999992],
    [0.707801,1.615321, 0.05525599999999997, 0.07935411499896938 ,0.22420699999999993, 0.043862999999999985],
    [0.716538,1.623789, 0.06640100000000004, 0.0849110912820259 ,0.21546999999999994, 0.035395000000000065],
    [0.72054,1.628229, 0.06062599999999996, 0.07617926478444614 ,0.211468, 0.030955000000000066],
    [0.718047,1.628373, 0.04791599999999996, 0.056081984904004845 ,0.21396099999999996, 0.030810999999999922],
    [0.718951,1.633278, 0.027329000000000048, 0.02843715026829763 ,0.21305699999999994, 0.025905999999999985],
    [0.719576,1.634651, 0.027954000000000034, 0.033698000000000006 ,0.21243199999999995, 0.024532999999999916],
    [0.718288,1.634745, 0.02666600000000008, 0.03379199999999982 ,0.2137199999999999, 0.0244390000000001],
    [0.720943,1.634887, 0.02932100000000004, 0.03393399999999991 ,0.21106499999999995, 0.024297000000000013],
    [0.720853,1.636495, 0.029231000000000007, 0.03554199999999996 ,0.21115499999999998, 0.02268899999999996],
    [0.720885,1.637687, 0.02926300000000004, 0.03673399999999982 ,0.21112299999999995, 0.0214970000000001],
    [0.7229,1.639701, 0.03127800000000003, 0.038748000000000005 ,0.20910799999999996, 0.019482999999999917],
    [0.720222,1.637113, 0.02860000000000007, 0.03615999999999997 ,0.21178599999999992, 0.022070999999999952],
    [0.720372,1.638363, 0.028750000000000053, 0.03740999999999994 ,0.21163599999999994, 0.02082099999999998],
    [0.7238,1.640563, 0.03217800000000004, 0.03960999999999992 ,0.20820799999999995, 0.018621],
    [0.724448,1.641814, 0.0006479999999999819, 0.0012510000000001131 ,0.20755999999999997, 0.017369999999999886],
    [0.729675,1.646821, 0.005874999999999964, 0.006258000000000097 ,0.20233299999999999, 0.012362999999999902],
    [0.730663,1.649011, 0.0068629999999999525, 0.008448000000000011 ,0.201345, 0.010172999999999988],
    [0.742495,1.67131, 0.022123000000000004, 0.03359567420873799 ,0.18951299999999993, -0.012126000000000081],
    [0.760898,1.689414, 0.037097999999999964, 0.05071286437063116 ,0.17110999999999998, -0.03022999999999998],
    [0.773405,1.718506, 0.04895700000000003, 0.07442987703428994 ,0.15860299999999994, -0.0593220000000001],
    [0.797358,1.729967, 0.06768300000000005, 0.08692892686674814 ,0.13464999999999994, -0.07078300000000004],
    [0.803652,1.746687, 0.07298900000000008, 0.09180515343629292 ,0.12835599999999991, -0.08750300000000011],
    [0.815707,1.764465, 0.07321199999999994, 0.08985330203635167 ,0.11630099999999999, -0.10528099999999996],
    [0.828815,1.787022, 0.067917, 0.08997619386524991 ,0.10319299999999998, -0.12783800000000012],
    [0.843284,1.785679, 0.06987900000000002, 0.077911296325478 ,0.08872399999999991, -0.12649500000000002],
    [0.854956,1.802538, 0.05759800000000004, 0.06737867937743469 ,0.0770519999999999, -0.14335399999999998],
    [0.870955,1.814528, 0.067303, 0.06450721007018934 ,0.06105299999999991, -0.15534399999999993],
    [0.871664,1.815397, 0.055957000000000034, 0.04721662549001682 ,0.06034399999999995, -0.15621299999999994],
    [0.872933,1.818184, 0.04411799999999999, 0.03402956631117049 ,0.05907499999999999, -0.15900000000000003],
    [0.874936,1.815778, 0.03165200000000001, 0.030600537352034163 ,0.0570719999999999, -0.1565939999999999],
    [0.871398,1.819369, 0.0004429999999999712, 0.004841000000000095 ,0.06060999999999994, -0.16018500000000002],
    [0.874777,1.817296, 0.003821999999999992, 0.0027680000000001037 ,0.05723099999999992, -0.15811200000000003],
    [0.872363,1.819193, 0.0014079999999999648, 0.004665000000000141 ,0.05964499999999995, -0.16000900000000007],
    [0.871159,1.818111, 0.00020399999999998197, 0.003583000000000114 ,0.06084899999999993, -0.15892700000000004],
    [0.874185,1.816587, 0.003229999999999955, 0.002059000000000033 ,0.05782299999999996, -0.15740299999999996],
    [0.873318,1.814885, 0.002363000000000004, 0.00035700000000016274 ,0.05868999999999991, -0.1557010000000001],
    [0.87158,1.815114, 0.0006249999999999867, 0.0005859999999999754 ,0.060427999999999926, -0.1559299999999999],
    [0.871956,1.817137, 0.0010009999999999186, 0.0026090000000000835 ,0.060051999999999994, -0.157953],
    [0.871697,1.815291, 0.0007420000000000204, 0.0007630000000000692 ,0.06031099999999989, -0.156107],
    [0.869813,1.814911, -0.0011420000000000874, 0.0003830000000000222 ,0.062195, -0.15572699999999995],
    [0.879991,1.819741, 0.009035999999999933, 0.005213000000000134 ,0.05201699999999998, -0.16055700000000006],
    [0.881209,1.823715, 0.010253999999999985, 0.009187000000000056 ,0.05079899999999993, -0.16453099999999998],
    [0.908551,1.837389, 0.036595000000000044, 0.021232248697834022 ,0.02345699999999995, -0.17820499999999995],
    [0.949386,1.888548, 0.0776889999999999, 0.07042283904047619 ,-0.017378000000000005, -0.2293639999999999],
    [1.016425,1.961558, 0.14661199999999996, 0.1489776259754847 ,-0.08441699999999996, -0.3023739999999999],
    [1.073927,1.985407, 0.1939360000000001, 0.17627522088751602 ,-0.14191900000000013, -0.32622299999999993],
    [1.128633,2.022948, 0.24742399999999998, 0.20699740054808613 ,-0.19662500000000005, -0.363764],
    [1.154659,2.035618, 0.2461080000000001, 0.19217042329317113 ,-0.22265100000000015, -0.37643399999999994],
    [1.167115,2.040945, 0.21772899999999995, 0.14579822029247103 ,-0.23510699999999995, -0.3817609999999998],
    [1.177741,2.044868, 0.16131600000000001, 0.08712856371398647 ,-0.24573299999999998, -0.38568400000000014],
    [1.217964,2.060788, 0.14403699999999997, 0.07548731514430296 ,-0.2859560000000001, -0.40160400000000007],
    [1.239277,2.0654, 0.11064399999999996, 0.04255013085648196 ,-0.307269, -0.4062159999999999],
    [1.279647,2.080871, 0.12498799999999988, 0.04462118630619161 ,-0.34763900000000003, -0.42168700000000015],
    [1.283466,2.083409, 0.1163510000000001, 0.041546296748391054 ,-0.35145800000000005, -0.4242250000000001],
    [1.285121,2.083431, 0.10738000000000003, 0.0382343549623716 ,-0.353113, -0.42424700000000004],
    [1.284819,2.085481, 0.06685499999999989, 0.02425433066317151 ,-0.352811, -0.42629700000000015],
    [1.289084,2.083585, 0.049806999999999935, 0.019677297721598652 ,-0.35707599999999995, -0.4244009999999998],
    [1.286088,2.084847, -0.0029959999999999987, 0.0012620000000000964 ,-0.35407999999999995, -0.4256629999999999],
    [1.286667,2.085632, -0.0024169999999998915, 0.002047000000000132 ,-0.35465900000000006, -0.42644799999999994],
    [1.283635,2.082335, -0.005448999999999815, -0.0012499999999997513 ,-0.35162700000000013, -0.42315100000000005],
    [1.296742,2.085366, 0.007658000000000165, 0.0017810000000002546 ,-0.3647340000000001, -0.42618200000000006],
    [1.316476,2.115768, 0.027392000000000083, 0.027105435325634808 ,-0.38446800000000003, -0.4565840000000001],
    [1.325319,2.121469, 0.039231000000000016, 0.038318519105235094 ,-0.39331099999999997, -0.46228499999999983],
    [1.352778,2.137739, 0.06611100000000003, 0.056936655997896324 ,-0.4207700000000001, -0.47855499999999984],
    [1.397043,2.148876, 0.11340799999999995, 0.07035572531275491 ,-0.4650350000000001, -0.489692],
    [1.397702,2.157986, 0.10095999999999994, 0.05900636162877815 ,-0.46569400000000005, -0.4988020000000002],
    [1.401566,2.163445, 0.08509000000000011, 0.04154897839063221 ,-0.46955800000000014, -0.5042609999999998],
    [1.402671,2.168113, 0.07735200000000009, 0.039538920511617004 ,-0.47066300000000005, -0.508929],
    [1.401492,2.163626, 0.048713999999999924, 0.024819048995585735 ,-0.469484, -0.5044419999999998],
    [1.403373,2.166349, 0.006329999999999947, 0.01747299999999985 ,-0.47136500000000003, -0.5071649999999999],
    [1.400798,2.16278, 0.003754999999999953, 0.013904000000000138 ,-0.46879000000000004, -0.5035960000000002]
])

v1 = Vector(Point(0,0), Point(-0.000476, 0.00028907))
v2 = Vector(Point(0,0), Point(0.079737, -0.130236))
print(v1.clockwise_angle_between(v2))
print(v1.clockwise_angle_between(v2) > np.pi)

p1 = Point(0.091812, 0.03647197234736366)
p2 = Point(-0.00042799999999998395, -0.000600009779178956)

print(Point(0, 0).distance(p1))
print(Point(0, 0).distance(p2))

x, y, hx, hy, rx, ry = real_set.T
plt.quiver(x, y, hx, hy, color='b')
plt.quiver(x, y, rx, ry, color='r')
plt.pause(0.05)

# plt.plot(0, 0, 'bo')
# plt.plot(v1[0], v1[1], 'ro')
# plt.plot(v2[0], v2[1], 'ro')
# plt.plot(0.002772, 0.00128472, 'bo')
# plt.plot(0.078554, 0.102219, 'bo')
# plt.pause(0.05)

input("Press Enter to continue...")
