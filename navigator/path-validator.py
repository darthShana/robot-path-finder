from matplotlib import pyplot as plt
import numpy as np
from geometry.Point import Point
from geometry.Vector import Vector

waypoints = np.array([
    [-0.000747,-0.00075],
    [0.032325,0.095675],
    [0.109664,0.226586],
])

x, y = waypoints.T
fig = plt.figure(figsize=(8, 8))
plt.gca().set_aspect('equal', adjustable='box')
plt.scatter(x, y, marker='+')
plt.pause(0.05)

real_set = np.array([
    [-0.001855, 0.001204, -0.000991, 0.000132 ,0.03418,0.094471],
    [-0.000819, 0.000044, 0.00045, -0.00024937 ,0.033144, 0.095634],
    [-0.001105, 0.000088,0.00075, -0.00029858 ,0.03343,0.095587],
    [0.003543, -0.005115,0.004418, -0.00557923 ,0.028782, 0.10079],
    [0.002771, -0.006261,0.003876, -0.00377572 ,0.029554, 0.101936],
    [0.002198, -0.003463,0.003062, -0.004535 ,0.030127, 0.099138],
    [0.001759, -0.001949,0.00041, -0.0001986 ,0.030566, 0.097624],
    [0.005852, -0.008098,0.001943, -0.00225762 ,0.026473, 0.103773],
    [0.003783, -0.003833,0.002024, -0.00296004 ,0.028542, 0.099508],
    [0.002774, -0.002795, -0.003078,0.00497697 ,0.029551, 0.09847],
    [-0.001034, 0.006595, -0.003808,0.00799406 ,0.033359, 0.08908],
    [0.000264, 0.004312, -0.000438,0.00208499 ,0.032061, 0.091363],
    [0.002457, 0.002939,0.002293, -0.00263482 ,0.029868, 0.092736],
    [-0.00115, 0.008513, -0.000765,0.00104191 ,0.033475, 0.087162],
    [0.002204, 0.005764,0.003238, -0.00320504 ,0.030121, 0.089911],
    [0.007122, 0.023911, 0.007317, 0.01422755 ,0.025203, 0.071764],
    [0.013163, 0.048146, 0.012899, 0.04060305 ,0.019162, 0.047529],
    [0.039823, 0.065711, 0.037366, 0.05821095 ,-0.007498,0.029964],
    [0.048321, 0.141343, 0.046117, 0.09532723 ,0.061343, 0.085243],
    [0.053041, 0.215651, 0.039878, 0.13198929 ,0.056623, 0.010935],
    [0.051899, 0.240353, 0.012076,0.1074322 , 0.057765, -0.013767],
    [0.044461, 0.27311, -0.00858, 0.057459 , 0.065203, -0.046524],
    [0.059787, 0.297122, 0.015326, 0.024012 , 0.049877, -0.070536]
])

v1 = Vector(Point(0,0), Point(0.046117, 0.09532723))
v2 = Vector(Point(0,0), Point(0.061343, 0.085243))
print(v1.angle_between(v2))
print(v1.angle_between(v2) > np.pi/16)

x, y, hx, hy, rx, ry = real_set.T
plt.quiver(x, y, hx, hy, color='b')
plt.quiver(x, y, rx, ry, color='r')
plt.pause(0.05)

# plt.plot(0, 0, 'bo')
# plt.plot(v1[0], v1[1], 'ro')
# plt.plot(v2[0], v2[1], 'ro')
# plt.plot(0.002772, 0.00128472, 'bo')
# plt.plot(0.078554, 0.102219, 'bo')
# plt.pause(0.05)

input("Press Enter to continue...")
