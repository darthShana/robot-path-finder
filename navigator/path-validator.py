from matplotlib import pyplot as plt
import numpy as np
from geometry.Point import Point
from geometry.Vector import Vector

waypoints = np.array([
    [0.032325,0.095675],
    [0.109664,0.226586]
])

x, y = waypoints.T
fig = plt.figure(figsize=(8, 8))
plt.gca().set_aspect('equal', adjustable='box')
plt.scatter(x, y, marker='+')
plt.pause(0.05)

real_set = np.array([
    [0.01349,0.053841, 0.013349, 0.02346713 ,0.018835, 0.041834],
    [0.027392,0.052034, 0.024199, 0.03418146 ,0.082272, 0.174552],
    [0.034224,0.097108, 0.02745,0.05294616 ,0.07544,0.129478],
    [0.052735,0.141958, 0.030228, 0.07670636 ,0.056929, 0.084628],
    [0.063451,0.249604, 0.014683, 0.08147766, 0.046213, -0.023018],
    [0.065203,0.302136, -0.005734,0.04007, 0.044461, -0.07555],
    [0.068941,0.293176, -0.005243, 0.01717489 , 0.040723, -0.06659],
    [0.066182,0.297828, -0.00068, 0.00139859 , 0.043482, -0.071242],
    [0.068473,0.302514, 0.00327,-0.00266513 , 0.041191, -0.075928],
    [0.070197,0.299462, -0.00074, 0.037396 , 0.039467, -0.072876],
    [0.069328,0.300762, 0.000855, -0.00191328, 0.040336, -0.074176],
    [0.068111,0.305281, -0.002086, 0.00492232 , 0.041553, -0.078695],
    [0.070589,0.302388, 0.002999, -0.00542102 , 0.039075, -0.075802],
])

v1 = Vector(Point(0,0), Point(0.030228, 0.07670636))
v2 = Vector(Point(0,0), Point(0.056929, 0.084628))
print(v1.angle_between(v2))
print(v1.angle_between(v2) > np.pi/16)

x, y, hx, hy, rx, ry = real_set.T
plt.quiver(x, y, hx, hy, color='b')
plt.quiver(x, y, rx, ry, color='r')
plt.pause(0.05)

# plt.plot(0, 0, 'bo')
# plt.plot(v1[0], v1[1], 'ro')
# plt.plot(v2[0], v2[1], 'ro')
# plt.plot(0.002772, 0.00128472, 'bo')
# plt.plot(0.078554, 0.102219, 'bo')
# plt.pause(0.05)

input("Press Enter to continue...")
